<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert a count variable into percent change relative to baseline — calc_percent_change • pika</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert a count variable into percent change relative to baseline — calc_percent_change"><meta name="description" content="This function converts a count variable over time into a percent change based on the average
value in the specified baseline period. This function was written for application to
mobility data, where the percent change in mobility over time relative to baseline is of
interest. However, this function can be applied to any count type time series."><meta property="og:description" content="This function converts a count variable over time into a percent change based on the average
value in the specified baseline period. This function was written for application to
mobility data, where the percent change in mobility over time relative to baseline is of
interest. However, this function can be applied to any count type time series."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pika</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/pika_vignette.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pika_vignette.html">pika: Evaluating Correlation Between Time Series</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mrc-ide/pika/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convert a count variable into percent change relative to baseline</h1>
      <small class="dont-index">Source: <a href="https://github.com/mrc-ide/pika/blob/master/R/analysis_functions.R" class="external-link"><code>R/analysis_functions.R</code></a></small>
      <div class="d-none name"><code>calc_percent_change.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function converts a count variable over time into a percent change based on the average
value in the specified baseline period. This function was written for application to
mobility data, where the percent change in mobility over time relative to baseline is of
interest. However, this function can be applied to any count type time series.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calc_percent_change</span><span class="op">(</span></span>
<span>  <span class="va">dat</span>,</span>
<span>  date_var <span class="op">=</span> <span class="st">"date"</span>,</span>
<span>  <span class="va">grp_var</span>,</span>
<span>  <span class="va">count_var</span>,</span>
<span>  n_baseline_periods <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  start_date <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dat">dat<a class="anchor" aria-label="anchor" href="#arg-dat"></a></dt>
<dd><p>data frame with columns that correspond to count variable and grouping variable</p></dd>


<dt id="arg-date-var">date_var<a class="anchor" aria-label="anchor" href="#arg-date-var"></a></dt>
<dd><p>character string of the name of the date column (should be of class "Date")</p></dd>


<dt id="arg-grp-var">grp_var<a class="anchor" aria-label="anchor" href="#arg-grp-var"></a></dt>
<dd><p>character string of column name in dat to be used as grouping variable</p></dd>


<dt id="arg-count-var">count_var<a class="anchor" aria-label="anchor" href="#arg-count-var"></a></dt>
<dd><p>character string of the name of the count column, such as number of trips</p></dd>


<dt id="arg-n-baseline-periods">n_baseline_periods<a class="anchor" aria-label="anchor" href="#arg-n-baseline-periods"></a></dt>
<dd><p>Number of periods to calculate baseline average over. For example,
if the time series is days, n_baseline_periods = 7 for a baseline week.</p></dd>


<dt id="arg-start-date">start_date<a class="anchor" aria-label="anchor" href="#arg-start-date"></a></dt>
<dd><p>start date of baseline period (character string)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>data frame of with an additional column of the percent change relative to baseline</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://orcid.org/0000-0001-5419-7206" class="external-link">Kylie Ainslie</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

